<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="Datastax Cassandra Ruby Driver Documentation">
    <meta name="author" content="">

    <title>Datastax Cassandra Ruby Driver - Future</title>

    <link href="../../css/style.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body data-spy="scroll" data-target=".toc" data-offset="0">
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../">Cassandra Ruby Driver</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="../../">Introduction</a></li>
            <li><a href="../../features/">Features</a></li>
            <li class="active"><a href="../">API docs</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-9 content">
          <nav class="crumbs">
            <ol class="breadcrumb">
              
              
              
              <li><a href="../../">Introduction</a></li>
              
              
              
              
              
              
              
              <li><a href="../">Cassandra</a></li>
              
              
              
              
              
              <li class="active">Future</li>
              
              
              
            </ol>
          </nav>
          <div class="page-header">
  <h1>Cassandra::Future <small>
  class</small>
</h1>
</div>
<p>A Future represents a result of asynchronous execution. It can be used to
block until a value is available or an error has happened, or register a
listener to be notified whenever the execution is complete.</p>

<dl class="dl-horizontal notes">

</dl>


<h2>Inherits</h2>
<div class="superclass"><code>Object</code></div>







<h2>Classes</h2>
<div class="child-classes">
  <ul class="list-inline">
    
    <li><code><a href="listener/" title="Cassandra::Future::Listener (class)">Listener</a></code></li>
    
  </ul>
</div>

<h2>Methods</h2>
<div class="module-methods">
  
    <div class="panel panel-default" id="value-class_method">
  <div class="panel-heading method-header">
  
    
      <em>self.</em><span class="path"><strong>value</strong></span><big>(</big><var>value</var><big>)</big> 
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Returns a future resolved to a given value</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  <dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          value for the future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code>&lt;<code>Object</code>&gt;</td>
        
        <td class="details">
          
          
          a future value

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="error-class_method">
  <div class="panel-heading method-header">
  
    
      <em>self.</em><span class="path"><strong>error</strong></span><big>(</big><var>error</var><big>)</big> 
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Returns a future resolved to a given error</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  <dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          error for the future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code>&lt;<code>Exception</code>&gt;</td>
        
        <td class="details">
          
          
          a future error

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="all-class_method">
  <div class="panel-heading method-header">
  
    
      <em>self.</em><span class="path"><strong>all</strong></span><big>(</big><var>*futures</var><big>)</big> 
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Returns a future that resolves with values of all futures</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  
  <dt class="tag-title">Overloads:</dt>
  <dd class="tag-content">
    
      
      <div class="panel panel-default">
        <div class="panel-heading overload-header">
          <em>self.</em><span class="path"><strong>all</strong></span>(*futures) 
        </div>
        <div class="panel-body overload-body">
          <p>Returns a combined future</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  <dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>*futures</var></td>
        
        
        <td class="type"><code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code></td>
        
        <td class="details">
          
          
          futures to combine

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code>&lt;<code>Array</code>&lt;<code>Object</code>&gt;&gt;</td>
        
        <td class="details">
          
          
          a combined future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
        </div>
      </div>
    
      
      <div class="panel panel-default">
        <div class="panel-heading overload-header">
          <em>self.</em><span class="path"><strong>all</strong></span>(futures) 
        </div>
        <div class="panel-body overload-body">
          <p>Returns a combined future</p>

<dl class="dl-horizontal notes">

</dl>
<dl class="tags">
  <dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>futures</var></td>
        
        
        <td class="type">
<code>Enumerable</code>&lt;<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code>&gt;</td>
        
        <td class="details">
          
          
          list of futures to
combine

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">
<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code>&lt;<code>Array</code>&lt;<code>Object</code>&gt;&gt;</td>
        
        <td class="details">
          
          
          a combined future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
        </div>
      </div>
    
  </dd>


</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="on_success-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>on_success</strong></span> {|value| &#8230; }
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Run block when future resolves to a value</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          a value

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="join-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>join</strong></span> 
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Block until the future has been resolved</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>This method blocks until a future is resolved
</dd>

<dt><span class="label label-primary">Note</span></dt>
<dd>This method won&#8217;t raise any errors or return anything but the
future itself
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="get-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>get</strong></span> 
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Returns future value or raises future error</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>This method blocks until a future is resolved
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          value used to resolve this future if any

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          error used to resolve this future if any

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="on_failure-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>on_failure</strong></span> {|error| &#8230; }
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Run block when future resolves to error</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          an error

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="on_complete-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>on_complete</strong></span> {|error, value| &#8230; }
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Run block when future resolves. The block will always be called with 2
  arguments - error and value. In case a future resolves to an error, the
  error argument will be non-nil.</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type">(<code>Exception</code> or <code>nil</code>)</td>
        
        <td class="details">
          
          
          an error or nil

          
        </td>
      </tr>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type">(<code>Object</code> or <code>nil</code>)</td>
        
        <td class="details">
          
          
          a value or nil

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="add_listener-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>add_listener</strong></span><big>(</big><var>listener</var><big>)</big> 
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Add future listener</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The listener can be notified synchronously, from current thread, if
the future has already been resolved, or, asynchronously, from
background thread upon resolution.
</dd>

<dt><span class="label label-primary">Note</span></dt>
<dd>that provided listener doesn&#8217;t have to extend
<code><a href="listener/" title="Cassandra::Future::Listener (class)">Listener</a></code>, only conform to the same interface
</dd>


</dl>
<dl class="tags">
  <dt class="tag-title">
  Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>listener</var></td>
        
        
        <td class="type"><code><a href="listener/" title="Cassandra::Future::Listener (class)">Cassandra::Future::Listener</a></code></td>
        
        <td class="details">
          
          
          an object that responds to
<code>#success</code> and <code>#failure</code>

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>self</code></td>
        
        <td class="details">
          
          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="then-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>then</strong></span> {|value| &#8230; }
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Returns a new future that will resolve to the result of the block.
Besides regular values, block can return other futures, which will be
transparently unwrapped before resolving the future from this method.</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">Examples:</dt>
<dd class="tag-content">
  <dl class="examples">
  
    
    <dt class="example-title">Block returns a value
</dt>
    
    <dd class="example-code"><pre class="highlight"><code class="ruby"><span class="n">future_users</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE user_name = ?'</span><span class="p">,</span> <span class="s1">'Sam'</span><span class="p">)</span>
<span class="n">future_user</span>  <span class="o">=</span> <span class="n">future_users</span><span class="o">.</span><span class="n">then</span> <span class="p">{</span><span class="o">|</span><span class="n">users</span><span class="o">|</span> <span class="n">users</span><span class="o">.</span><span class="n">first</span><span class="p">}</span>
</code></pre></dd>
  
    
    <dt class="example-title">Block returns a future
</dt>
    
    <dd class="example-code"><pre class="highlight"><code class="ruby"><span class="n">future_statement</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">prepare_async</span><span class="p">(</span><span class="s1">'SELECT * FROM users WHERE user_name = ?'</span><span class="p">)</span>
<span class="n">future_users</span>     <span class="o">=</span> <span class="n">future_statement</span><span class="o">.</span><span class="n">then</span> <span class="p">{</span><span class="o">|</span><span class="n">statement</span><span class="o">|</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_async</span><span class="p">(</span><span class="n">statement</span><span class="p">,</span> <span class="s1">'Sam'</span><span class="p">)}</span>
</code></pre></dd>
  
  </dl>
</dd>

<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>value</var></td>
        
        
        <td class="type"><code>Object</code></td>
        
        <td class="details">
          
          
          a value

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Yield Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">(<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code> or <code>Object</code>)</td>
        
        <td class="details">
          
          
          a future or a value to be
wrapped in a future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code></td>
        
        <td class="details">
          
          
          a new future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
    <div class="panel panel-default" id="fallback-instance_method">
  <div class="panel-heading method-header">
  
    
      <span class="path"><strong>fallback</strong></span> {|error| &#8230; }
    
  
  
  
  </div>
  <div class="panel-body method-body">
    <p>Returns a new future that will resolve to the result of the block in case
of an error. Besides regular values, block can return other futures,
which will be transparently unwrapped before resolving the future from
this method.</p>

<dl class="dl-horizontal notes">

<dt><span class="label label-primary">Note</span></dt>
<dd>The block can be called synchronously from current thread if the
future has already been resolved, or, asynchronously, from background
thread upon resolution.
</dd>


</dl>
<dl class="tags">
  
<dt class="tag-title">Examples:</dt>
<dd class="tag-content">
  <dl class="examples">
  
    
    <dt class="example-title">Recovering from errors
</dt>
    
    <dd class="example-code"><pre class="highlight"><code class="ruby"><span class="n">future_error</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM invalid-table'</span><span class="p">)</span>
<span class="n">future</span>       <span class="o">=</span> <span class="n">future_error</span><span class="o">.</span><span class="n">fallback</span> <span class="p">{</span><span class="o">|</span><span class="n">error</span><span class="o">|</span> <span class="s2">"Execution failed with </span><span class="si">#{</span><span class="n">error</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">#{</span><span class="n">error</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">"</span><span class="p">}</span>
</code></pre></dd>
  
    
    <dt class="example-title">Executing something else on error
</dt>
    
    <dd class="example-code"><pre class="highlight"><code class="ruby"><span class="n">future_error</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM invalid-table'</span><span class="p">)</span>
<span class="n">future</span>       <span class="o">=</span> <span class="n">future_error</span><span class="o">.</span><span class="n">fallback</span> <span class="p">{</span><span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="n">session</span><span class="o">.</span><span class="n">.execute_async</span><span class="p">(</span><span class="s1">'SELECT * FROM another-table'</span><span class="p">)}</span>
</code></pre></dd>
  
  </dl>
</dd>

<dt class="tag-title">
  Yield Parameters:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        <th class="name">Name</th>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        <td class="name"><var>error</var></td>
        
        
        <td class="type"><code>Exception</code></td>
        
        <td class="details">
          
          
          an error

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Yield Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type">(<code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code> or <code>Object</code>)</td>
        
        <td class="details">
          
          
          a future or a value to be
wrapped in a future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Returns:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code><a href="./" title="Cassandra::Future (class)">Cassandra::Future</a></code></td>
        
        <td class="details">
          
          
          a new future

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>
<dt class="tag-title">
  Raises:
</dt>
<dd class="tag-content">
  <table class="table table-striped">
    <thead>
      <tr>
        
        
        <th class="type">Type</th>
        
        <th class="details">Details</th>
      </tr>
    </thead>
    <tbody>
    
      <tr>
        
        
        <td class="type"><code>ArgumentError</code></td>
        
        <td class="details">
          
          
          if no block given

          
        </td>
      </tr>
    
    </tbody>
  </table>
</dd>

</dl>
  </div>
</div>

  
</div>
        </div>
        <nav class="col-md-3 side-nav">
          <ol class="nav nav-pills nav-stacked toc" data-spy="affix" data-offset-top="60" data-offset-bottom="0">
            

<li><a href="../auth/">Auth</a></li>



<li><a href="../cluster/">Cluster</a></li>



<li><a href="../column/">Column</a></li>



<li><a href="../compression/">Compression</a></li>



<li><a href="../error/">Error</a></li>



<li><a href="../errors/">Errors</a></li>



<li><a href="../execution/">Execution</a></li>



<li class="active">
  <a href="./">Future</a>
  
  <ul class="nav nav-pills nav-stacked">
    

<li><a href="listener/">Listener</a></li>



  </ul>
  
</li>



<li><a href="../host/">Host</a></li>



<li><a href="../keyspace/">Keyspace</a></li>



<li><a href="../listener/">Listener</a></li>



<li><a href="../load_balancing/">LoadBalancing</a></li>



<li><a href="../reconnection/">Reconnection</a></li>



<li><a href="../result/">Result</a></li>



<li><a href="../retry/">Retry</a></li>



<li><a href="../session/">Session</a></li>



<li><a href="../statement/">Statement</a></li>



<li><a href="../statements/">Statements</a></li>



<li><a href="../table/">Table</a></li>



<li><a href="../time_uuid/">TimeUuid</a></li>



<li><a href="../uuid/">Uuid</a></li>



          </ol>
        </nav>
      </div>
    </div>

    <script src="//code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  </body>
</html>
